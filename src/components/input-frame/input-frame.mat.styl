.q-if, .q-if:before, .q-if-label, .q-if-addon, .q-field-icon, .q-field-label, .q-if-control, .q-field-bottom
  transition $input-frame-transition

$content-none
  content none
$border-radius-top
  border-radius $input-border-radius $input-border-radius 0 0
$border-radius-all
  border-radius $input-border-radius
$padding-x
  padding-left $input-padding-x
  padding-right $input-padding-x
$padding-x-dense
  padding-left $input-dense-padding-x
  padding-right $input-dense-padding-x
$padding-y-full-width
  padding-top $input-fullwidth-padding-y
  padding-bottom $input-fullwidth-padding-y
$padding-y-full-width-dense
  padding-top $input-fullwidth-dense-padding-y
  padding-bottom $input-fullwidth-dense-padding-y
$margin-y-box
  margin-top $input-box-padding-bottom
  margin-bottom $input-box-padding-bottom
$margin-y-box-dense
  margin-top $input-box-dense-padding-bottom
  margin-bottom $input-box-dense-padding-bottom
$margin-top-box
  margin-top $input-box-padding-top
$margin-top-box-dense
  margin-top $input-box-dense-padding-top

.q-if
  &:before, &:after
    position absolute
    top 0
    bottom 0
    left 0
    right 0
    border 1px none currentColor
    border-bottom-style solid
    background transparent
    pointer-events none
    content ''
  &:before
    color $light
    color var(--q-color-light)
  &:after
    border-width 0
    transform-origin center center 0
    transform scaleX(0)
  &:not(.q-if-disabled):not(.q-if-full-width):not(.q-if-error):not(.q-if-warning):hover:before,
  &.q-if-readonly:not(.q-if-error):not(.q-if-warning):after
    color black
    .q-if-dark&
      color white
  &.q-if-full-width:after
    @extends $content-none
  &.q-if-hide-underline, &.q-if-inverted
    &:before, &:after
      @extends $content-none
.q-if-box
  &:before
    border-width 0
  &:not(.q-if-disabled):hover:before
    border-width 1px
  &:before, &:after
    @extends $border-radius-top
.q-if-outline, .q-if-textarea
  &:before, &:after
    border-style solid
    @extends $border-radius-all
.q-if-focused:after
  border-width 2px
  transform scaleX(1)
  transition $input-frame-transition-border

.q-if
  outline 0
  align-items center
  font-size $input-font-size
  margin-top $input-margin-top
  margin-bottom $input-margin-bottom

  .q-if-inner
    min-height $input-min-height
    align-items flex-start
    padding-top 4px
    > div
      overflow-x hidden

.q-if-dense
  font-size $input-dense-font-size
  margin-top $input-dense-margin-top
  margin-bottom $input-dense-margin-bottom

.q-if-standard
  padding-top $input-padding-bottom
  padding-bottom $input-padding-bottom
  &.q-if-dense
    padding-top $input-dense-padding-bottom
    padding-bottom $input-dense-padding-bottom
  &.q-if-has-label
    padding-top $input-padding-top
    &.q-if-dense
      padding-top $input-dense-padding-top

.q-if-standard, .q-if-box, .q-if-inverted, .q-if-outline, .q-if-textarea
  .q-if-label
    position absolute
    transform-origin top left
    transform translate(0, 0)
    &.q-if-label-above
      font-size ($input-font-size * $input-label-top-scale)
      transform translate(0, (-100 / $input-label-top-scale)%)
      .q-if-dense&
        transform translate(0, (-120 / $input-dense-label-top-scale)%)

.q-if-box, .q-if-inverted:not(.q-if-textarea)
  .q-if-label
    top 50%
    transform translate(0, -50%)
    &.q-if-label-above
      top 4px
      transform translate(0, 50%)
      .q-if-dense&
        top 2px
        transform translate(0, 50%)
  @extends $padding-x
  .q-if-inner
    @extends $margin-y-box
  &.q-if-dense
    @extends $padding-x-dense
    .q-if-inner
      @extends $margin-y-box-dense
  &.q-if-has-label
    .q-if-inner
      @extends $margin-top-box
    &.q-if-dense
      .q-if-inner
        @extends $margin-top-box-dense

.q-if-box
  @extends $border-radius-top
  background rgba(0, 0, 0, .06)
  &:not(.q-if-disabled):not(.q-if-focused):hover
    background rgba(0, 0, 0, .1)
    .q-if-dark&
      background rgba(255, 255, 255, .14)
  &.q-if-dark
    background rgba(255, 255, 255, .1)

.q-if-inverted
  box-shadow $shadow-1
  border-radius $input-inverted-border-radius
  .q-input-target
    color inherit

.q-if-outline, .q-if-textarea
  @extends $border-radius-all
  @extends $padding-x
  &.q-if-dense
    @extends $padding-x-dense

.q-if-outline
  @extends $padding-y-full-width
  &, .q-if-inner, .q-if-inner > div, .q-if-label
    background-color inherit
  &.q-if-dense
    @extends $padding-y-full-width-dense
  .q-if-label
    left $input-padding-x
    z-index 1
    &.q-if-label-above
      left $input-padding-x - $input-outline-label-padding-x
      padding-left $input-outline-label-padding-x
      padding-right $input-outline-label-padding-x
      transform translate(0, (-145 / $input-label-top-scale)%)
      .q-if-dense&
        transform translate(0, (-150 / $input-dense-label-top-scale)%)
  .q-if-control + .q-if-inner > div > .q-if-label:not(.q-if-label-above)
    left $input-padding-x + $input-control-size + $input-control-margin
  .q-if-control + .q-if-control + .q-if-inner > div > .q-if-label:not(.q-if-label-above)
    left $input-padding-x + 2 * ($input-control-size + $input-control-margin)

.q-if-textarea
  .q-if-inner
    margin-top $input-textarea-padding-top
    margin-bottom $input-textarea-padding-bottom
    .q-if-dense&
      margin-top $input-textarea-dense-padding-top
      margin-bottom $input-textarea-dense-padding-bottom

.q-if-full-width
  @extends $padding-y-full-width
  margin-top 0
  margin-bottom 0
  &.q-if-dense
    @extends $padding-y-full-width-dense
  .q-if-label
    width 0
    margin 0
    white-space nowrap
    overflow visible
  &.q-if-has-content .q-if-label-above
    display none

.q-if-focused:not(.q-if-readonly)
  .q-if-label, .q-if-addon, .q-if-control
    color currentColor

.q-if-warning
  &:before, &:after, &:not(.q-if-inverted) .q-if-label
    color $warning
    color var(--q-color-warning)
  &:not(.q-if-full-width):hover:before
    color lighten($warning, 46%)
    color var(--q-color-warning-l)

.q-if-error
  &:before, &:after, &:not(.q-if-inverted) .q-if-label
    color $negative
    color var(--q-color-negative)
  &:not(.q-if-full-width):hover:before
    color lighten($negative, 46%)
    color var(--q-color-negative-l)

.q-if-disabled
  cursor not-allowed
  opacity .6
  .q-if-label, .q-if-control, .q-input-target, .q-chip
    cursor not-allowed

.q-if-dark:not(.q-if-inverted-light)
  .q-input-target:not(.q-input-target-placeholder)
    color white

.q-if-focusable
  outline 0
  cursor pointer

.q-if-control
  font-size $input-control-size
  width $input-control-size
  height $input-control-size
  cursor pointer
  z-index 2
  + .q-if-control, + .q-if-inner, .q-if-inner + &
    margin-left $input-control-margin
  &:hover
    opacity .7
  &.q-icon
    cursor pointer

.q-if-baseline
  width 0
  visibility hidden
  .q-if-standard &
    padding-top 4px

.q-if-label, .q-if-label-fake, .q-if-baseline
  pointer-events none
  user-select none
.q-if-label-fake
  visibility hidden
  height 0
  white-space nowrap
.q-if-label
  height 1.15em
  overflow hidden
  margin-right 2 * $input-control-size + $input-control-margin

.q-if-label, .q-if-addon, .q-if-control
  color $form-dark

.q-if-inverted
  .q-if-label, .q-if-addon, .q-if-control
    color #ddd

.q-if-inverted-light
  .q-if-label, .q-if-addon, .q-if-control
    color #656565

.q-if-addon
  pointer-events none
  opacity 0
.q-if-addon:not(.q-if-addon-visible)
  display none
.q-if-addon-left
  padding-right 1px
.q-if-addon-right
  padding-left 1px
.q-if-addon-visible
  opacity 1

.q-input-chips
  margin-top -5px
  margin-left -8px
  > div
    padding-top 4px
    padding-left 8px
  .q-if-dense &
    margin-top -4px
    .q-input-chips-target
      margin-top -4px
